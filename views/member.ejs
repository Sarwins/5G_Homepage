<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
      <title>5G member</title>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
      <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <style>
      @import url(./stylesheets/member.css);
   </style>
</head>

<body>
  <header>
    <% include ./include/header %>
  </header>

  <section>
    <div>
      <img src="./images/555.jpg" alt="0" class="memberimg">
    </div>
  </section> 
     
  <div class="title" align="center">
    <p>introduce 5G member</p>
  </div>
  <hr>
  <div class="container">
    <div class="row row-cols-2" align="center">
    <% for(let i= 0; i< result.length; i++){ %>
      <table class="membertable" align="center">
        <tr>
          <th>
            <img src="images/member/<%=result[i].m_image%>" alt="사진" width="150" height="150">
          </th>
          <td>
            <ul>
              <h3 align="left"><%=result[i].m_name%></h3>
              <li><p>소속 : <%=result[i].m_group%></p></li>
              <li><p>이메일 : <%=result[i].m_email%></p></li>
              <li><p>연락처 : <%=result[i].m_phone%></p></li>
            </ul>
          </td>
        </tr>
        <tr>
          <td class="detailbtn" colspan="2">
            <button type="button" id="membtn" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#uitmodal"
            data-name="<%=result[i].m_name%>" data-photo="<%=result[i].m_image%>" data-group="<%=result[i].m_group%>" data-email="<%=result[i].m_email%>"
            data-position="<%=result[i].m_position%>" data-phone="<%=result[i].m_phone%>">더 보기</button>
          </td>
        </tr>
      </table>
    <% } %>
    </div>
  </div> 
  
  <div class="modal fade" id="uitmodal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title"></h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <table id="imtable">
            <tr>
              <th rowspan="3">
                <img src="images/member/고학림.jpg" id="imgmodal">
              </th>
              <td>&#149;</td>
              <th id="namemodal"></th>
            </tr>
            <tr>
              <td>&#149;</td>
              <th id="groupmodal"></th>
            </tr>
            <tr>
              <td>&#149;</td>
              <th id="positionmodal"></th>
            </tr>
          </table>

          <table id="comtable">
            <tr>
              <th colspan="2">연락 수단</th>
            </tr>
            <tr id="hello">
              <td>이메일</td>
              <td id="emailmodal"></td>
            </tr>
            <tr id="world">
              <td>연락처</td>
              <td id="phonemodal"></td>
            </tr>
          </table>

          <table id="cartable">
            <tr>
              <th colspan="2">학력</th>
            </tr>
            <tr id="holy">
              <td id="now">1</td>
              <td>2</td>
            </tr>
            <tr id="moly">
              <td id="wow">1</td>
              <td>2</td>
            </tr>
          </table>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

</body>

<script>
 $('#uitmodal').on('show.bs.modal', function (event){
    var button = $(event.relatedTarget);
    var name = button.data('name');
    var photo = button.data('photo');
    var group = button.data('group');
    var email = button.data('email');
    var position = button.data('position');
    var phone = button.data('phone');

    var modal=$(this)
    modal.find('.modal-title').text("상세보기");
    modal.find('.modal-body #imtable #namemodal').text("이름 : "+name);
    modal.find('.modal-body #imtable #groupmodal').text("소속 : "+group);
    modal.find('.modal-body #comtable #emailmodal').text(email);
    modal.find('.modal-body #imtable #positionmodal').text("직급 : "+position);
    modal.find('.modal-body #comtable #phonemodal').text(phone);

    document.getElementById('imgmodal').src = ("images/member/"+photo);
  });
</script>